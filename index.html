<!DOCTYPE html>
<meta charset="utf-8">
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> circle {fill: lightblue; stroke: black;} </style>
<body onload='init()'>
    <h1 style="font-family:sans-serif;text-align:left">Career Analysis of NBA Players</h1>
    <svg width=750 height=500>
    </svg>
    <script>
    async function init() {
        const data = await d3.csv("https://shuan102.github.io/players.csv");

        var x = d3.scaleLinear().domain([1947,2018]).range([0,650])
        var y = d3.scaleLinear().domain([10,150]).range([400,0])
        
        var svg = d3.select('svg')

        // var Tooltip = d3.select("#my_dataviz")
        //     .append("div")
        //     .style("opacity", 0)
        //     .attr("class", "tooltip")
        //     .style("background-color", "white")
        //     //.style("border", "solid")
        //     //.style("border-width", "2px")
        //     .style("border-radius", "5px")
        //     .style("padding", "5px")

        // // Three function that change the tooltip when user hover / move / leave a cell
        // var mouseover = function(d) {
        //     Tooltip
        //         .style("opacity", 1)
        // }
        // var mousemove = function(d) {
        //     Tooltip
        //         .html("Pokemon Generation " + d.type + "<br>"+"Attribute Mean: " + d.value)
        //         .style("left", (d3.mouse(this)[0]+70) + "px")
        //         .style("top", (d3.mouse(this)[1]) + "px")
        // }
        // var mouseleave = function(d) {
        //     Tooltip
        //         .style("opacity", 0)
        // }

        var g = svg.append('g')
            .attr('transform', 'translate(50,50)')
        circle = g.selectAll('circle')
            .data(data)
            .enter()
            .append('circle')
                .attr('cx', function(d,i) { return +d.draft_year; })
                .attr('cy', function(d,i) { return +d.career_PTS; })
                .attr('r', function(d,i) { return 5; })
                .attr("fill", "white")
                // .on("mouseover", mouseover)
                // .on("mousemove", mousemove)
                // .on("mouseleave", mouseleave)

        var xaxis = svg.append('g')
            .attr('transform', 'translate(50,50)')
            .call(d3.axisLeft(y))

        var yaxis = svg.append('g')
            .attr('transform', 'translate(50,450)')
            .call(d3.axisBottom(x))
    }
    </script>
</body>
</html>